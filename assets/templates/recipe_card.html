<!-- basic card -->
<div class="card">

    <!-- Button per rimuovere una ricetta -->
    <div ng-if="showRemoveButton" ng-cloak class="card_delete" role="button" ng-click="removeCallback(recipe)">
        <i class="fa fa-times" aria-hidden="true"></i>
    </div>

    <div class="thumbnail no-padding no-border card_info no-border-radius" style="background-color:{{recipe.dominantColor}}">
        <!-- contenitore card img -->
        <div class="card_container_img">
            <!-- card image -->
            <div class="card_img" style="background-image:url('{{recipe.coverImageUrl}}')"></div>

            <!-- card share -->
            <div hide-during-resolve to-state="'/app/recipe/'+recipe.id" class="container-fluid card_share">
                <a href="app/recipe/{{recipe.id}}" class="card_link"></a>
                <div class="cont_row_share">
                    <div class="row text-center">
                        <div class="col-xs-6">
                            <span class="glyphicon gly_share_size tasty_icon" ng-class="(recipe.userVote == 1) ? 'glyphicon-heart tasty_icon_active' : 'glyphicon-heart-empty'"
                            ng-click="toggleUpvoteRecipe(recipe)" title="mi piace!"></span>
                        </div>
                        <div class="col-xs-6"><span class="glyphicon glyphicon-share-alt gly_share_size tasty_icon" ng-click="openShareModal(recipe)"
                            title="condividi {{recipe.title}}"></span></div>
                    </div>
                    <div  class="row text-center">
                        <span class="glyphicon glyphicon-plus gly_share_size tasty_icon" ng-click="openCollectionModal(recipe)" title="aggiungi {{recipe.title}} ad una raccolta!"></span>
                    </div>
                </div>
            </div>
            <div show-during-resolve to-state="'/app/recipe/'+recipe.id" class="container-fluid card_share card_share_clicked">
                <div class="row text-center">
                    <rotating-plane-spinner></rotating-plane-spinner>
                </div>
            </div>
        </div>

        <div class="caption color_caption">
            <div class="container-fluid" style="position:relative;">
                
                <a href="app/recipe/{{recipe.id}}" class="card_link"></a>
                
                <!-- icone + valori -->
                <div class="row text-right">
                    <i class="fa fa-heart card_icon" ng-style="cardFontStyle"> {{recipe.votesCount}}</i>
                    <i class="fa fa-comment card_icon" ng-style="cardFontStyle"> {{recipe.commentsCount}}</i>
                    <i class="fa fa-eye card_icon" ng-style="cardFontStyle"> {{recipe.viewsCount}}</i>
                    <i class="fa fa-cutlery card_icon" ng-style="cardFontStyle"> {{recipe.trialsCount}}</i>
                </div>

                <!-- tipo portata -->
                <div class="row">
                    <h6 class="card_reach">
                        <span ng-style="cardFontStyle">{{recipe.category}}</span>
                    </h6>
                </div>

                <!-- titolo portata -->
                <div class="row">
                    <h5 class="no-margin card_title text-uppercase">
                        <span ng-style="cardFontStyle">{{recipe.title}}</span>
                    </h5>
                </div>

                <!-- profile -->
                <div class="row recipe_profile_row">
                    <a href="app/profile/{{recipe.author.id}}" class="card_link_profile">
                        <img src="{{ getUserProfileImage(recipe.author) }}" class="img-circle card_profile_photo pull-left">
                        <div class="card_profile_name pull-left">
                            <h6 ng-style="cardFontStyle">{{recipe.author.name}} {{recipe.author.surname}}</h6>
                        </div>
                    </a>
                </div>

            </div>
        </div>
    </div>

</div>
<!-- fine card -->